#!/bin/sh

RELEASE_HOME='release'
BIN_DIR='bin'
CGIBIN_DIR='cgi-bin'
LOGS_INFO='logs'
CONFIGS_DIR='config'
DATA_DIR='data'
LIB_DIR='lib'
TOKEN_DIR='token'
CSS_DIR='css'
PICTURE_DIR='picture'
SCRIPT_DIR='script'
COMMON_LIB='common.so'
WEBKIT_LIB='webkit_lib.so'
DAEMON_NAME='daemon'
CDNER_NAME='cdner'
MONITOR_NAME='monitor'
WEBADAPTOR_NAME='web_adaptor'
SUPERVISOR_NAME='supervisor'
ADMININSULATION_NAME='admin_insulation'
ADMININVALID_NAME='admin_invalid'
ADMINLOG_NAME='admin_log'
ADMINMAIN_NAME='admin_main'
BACKENDTABLE_NAME='backend_table'
DLYSTATIS_NAME='daily_statistic'
DLYSTATUS_NAME='daily_status'
DNSTABLE_NAME='dns_table'
DOMAINMAILBOX_NAME='domain_mailbox'
DOMAINWHLIST_NAME='domain_whitelist'
FWDTABLE_NAME='forward_table'
FRMREPLACE_NAME='from_replace'
IPBLACKLIST_NAME='ip_blacklist'
IPWHITELIST_NAME='ip_whitelist'
IPDOMAINTBL_NAME='ipdomain_table'
KEYWORDGROUP_NAME='keyword_group'
KEYWORDSTATISTIC_NAME='keyword_statistic'
LOCALSETUP_NAME='local_setup'
MENSUALSTATISTIC_NAME='mensual_statistic'
MESSAGESIGN_NAME='message_sign'
RCPTBKLIST_NAME='rcpt_blacklist'
REDIRECTTABLE_NAME='redirect_table'
RELAYALLOW_NAME='relay_allow'
RELAYDOMAINS_NAME='relay_domains'
RELAYTABLE_NAME='relay_table'
STATUSRPC_NAME='status_rpc'
SYNCHRONIZATIONRPC_NAME='synchronization_rpc'
SUPERVISELST_NAME='supervising_list'
SUPERVISESTATIS_NAME='supervising_statistic'
SYNCHRONIZATIONALLOW_NAME='synchronization_allow'
SYSTEMBACKUP_NAME='system_backup'
SYSTEMPASSWORD_NAME='system_password'
SYSTEMSETUP_NAME='system_setup'
SYSTEMUSERS_NAME='system_users'
TAGGINGWHITELIST_NAME='tagging_whitelist'
MOUNT_DIR='gateway'
SYSBACKUP_DIR='sys_backup'

rm -rf $RELEASE_HOME
mkdir $RELEASE_HOME
mkdir $RELEASE_HOME/$BIN_DIR
mkdir $RELEASE_HOME/$CGIBIN_DIR
mkdir $RELEASE_HOME/$LOGS_INFO
mkdir $RELEASE_HOME/$CONFIGS_DIR
mkdir $RELEASE_HOME/$DATA_DIR
mkdir $RELEASE_HOME/$LIB_DIR
mkdir $RELEASE_HOME/$TOKEN_DIR
mkdir $RELEASE_HOME/$DATA_DIR/$CSS_DIR
mkdir $RELEASE_HOME/$DATA_DIR/$PICTURE_DIR
mkdir $RELEASE_HOME/$DATA_DIR/$SCRIPT_DIR
mkdir $RELEASE_HOME/$DATA_DIR/$ADMININSULATION_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$ADMININVALID_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$ADMINLOG_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$ADMINMAIN_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$BACKENDTABLE_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$DLYSTATIS_NAME
mkdir $RELEASE_HOME/$DATA_DIR/spam_statistic
mkdir $RELEASE_HOME/$DATA_DIR/$DLYSTATUS_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$DNSTABLE_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$DOMAINMAILBOX_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$DOMAINWHLIST_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$FWDTABLE_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$FRMREPLACE_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$IPBLACKLIST_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$IPWHITELIST_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$IPDOMAINTBL_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$KEYWORDGROUP_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$KEYWORDSTATISTIC_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$MENSUALSTATISTIC_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$MESSAGESIGN_NAME
mkdir $RELEASE_HOME/$DATA_DIR/system_sign
mkdir $RELEASE_HOME/$DATA_DIR/$LOCALSETUP_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$RCPTBKLIST_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$REDIRECTTABLE_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$RELAYALLOW_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$RELAYDOMAINS_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$RELAYTABLE_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$SUPERVISELST_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$SUPERVISESTATIS_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$SYNCHRONIZATIONALLOW_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$SYSTEMBACKUP_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$SYSTEMSETUP_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$SYSTEMPASSWORD_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$SYSTEMUSERS_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$TAGGINGWHITELIST_NAME
mkdir $RELEASE_HOME/$MOUNT_DIR
mkdir $RELEASE_HOME/$SYSBACKUP_DIR
cp scripts/install* $RELEASE_HOME
cp athena/athena.bin $RELEASE_HOME/$BIN_DIR
cp scripts/athena.sh $RELEASE_HOME/$BIN_DIR
cp scripts/athena.service $RELEASE_HOME/$BIN_DIR
cp $DATA_DIR/*.txt $RELEASE_HOME/$DATA_DIR
cp $DATA_DIR/$CSS_DIR/* $RELEASE_HOME/$DATA_DIR/$CSS_DIR
cp $DATA_DIR/$PICTURE_DIR/* $RELEASE_HOME/$DATA_DIR/$PICTURE_DIR
cp $DATA_DIR/$SCRIPT_DIR/* $RELEASE_HOME/$DATA_DIR/$SCRIPT_DIR
cp $CONFIGS_DIR/*.cfg $RELEASE_HOME/$CONFIGS_DIR
cp $TOKEN_DIR/* $RELEASE_HOME/$TOKEN_DIR
cp common/$COMMON_LIB $RELEASE_HOME/$LIB_DIR
cp webkit_lib/$WEBKIT_LIB $RELEASE_HOME/$LIB_DIR
cp daemon/$DAEMON_NAME $RELEASE_HOME/$BIN_DIR
cp cdner/$CDNER_NAME $RELEASE_HOME/$BIN_DIR
cp monitor/$MONITOR_NAME $RELEASE_HOME/$BIN_DIR
cp web_adaptor/$WEBADAPTOR_NAME $RELEASE_HOME/$BIN_DIR
cp supervisor/$SUPERVISOR_NAME $RELEASE_HOME/$BIN_DIR
cp admin_insulation/$ADMININSULATION_NAME $RELEASE_HOME/$CGIBIN_DIR
cp admin_insulation/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$ADMININSULATION_NAME
cp admin_invalid/$ADMININVALID_NAME $RELEASE_HOME/$CGIBIN_DIR
cp admin_invalid/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$ADMININVALID_NAME
cp admin_main/$ADMINMAIN_NAME $RELEASE_HOME/$CGIBIN_DIR
cp admin_main/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$ADMINMAIN_NAME
cp admin_log/$ADMINLOG_NAME $RELEASE_HOME/$CGIBIN_DIR
cp admin_log/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$ADMINLOG_NAME
cp backend_table/$BACKENDTABLE_NAME $RELEASE_HOME/$CGIBIN_DIR
cp backend_table/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$BACKENDTABLE_NAME
cp daily_statistic/$DLYSTATIS_NAME $RELEASE_HOME/$CGIBIN_DIR
cp daily_statistic/$DATA_DIR/*	$RELEASE_HOME/$DATA_DIR/$DLYSTATIS_NAME
cp daily_statistic/doc/* $RELEASE_HOME/$DATA_DIR/spam_statistic
cp daily_status/$DLYSTATUS_NAME $RELEASE_HOME/$CGIBIN_DIR
cp daily_status/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$DLYSTATUS_NAME
cp dns_table/$DNSTABLE_NAME $RELEASE_HOME/$CGIBIN_DIR
cp dns_table/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$DNSTABLE_NAME
cp domain_mailbox/$DOMAINMAILBOX_NAME $RELEASE_HOME/$CGIBIN_DIR
cp domain_mailbox/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$DOMAINMAILBOX_NAME
cp domain_whitelist/$DOMAINWHLIST_NAME $RELEASE_HOME/$CGIBIN_DIR
cp domain_whitelist/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$DOMAINWHLIST_NAME
cp forward_table/$FWDTABLE_NAME $RELEASE_HOME/$CGIBIN_DIR
cp forward_table/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$FWDTABLE_NAME
cp from_replace/$FRMREPLACE_NAME $RELEASE_HOME/$CGIBIN_DIR
cp from_replace/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$FRMREPLACE_NAME
cp ip_blacklist/$IPBLACKLIST_NAME $RELEASE_HOME/$CGIBIN_DIR
cp ip_blacklist/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$IPBLACKLIST_NAME
cp ip_whitelist/$IPWHITELIST_NAME $RELEASE_HOME/$CGIBIN_DIR
cp ip_whitelist/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$IPWHITELIST_NAME
cp ipdomain_table/$IPDOMAINTBL_NAME $RELEASE_HOME/$CGIBIN_DIR
cp ipdomain_table/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$IPDOMAINTBL_NAME
cp keyword_group/$KEYWORDGROUP_NAME $RELEASE_HOME/$CGIBIN_DIR
cp keyword_group/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$KEYWORDGROUP_NAME
cp keyword_statistic/$KEYWORDSTATISTIC_NAME $RELEASE_HOME/$CGIBIN_DIR
cp keyword_statistic/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$KEYWORDSTATISTIC_NAME
cp local_setup/$LOCALSETUP_NAME $RELEASE_HOME/$CGIBIN_DIR
cp local_setup/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$LOCALSETUP_NAME
cp mensual_statistic/$MENSUALSTATISTIC_NAME $RELEASE_HOME/$CGIBIN_DIR
cp mensual_statistic/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$MENSUALSTATISTIC_NAME
cp message_sign/$MESSAGESIGN_NAME $RELEASE_HOME/$CGIBIN_DIR
cp message_sign/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$MESSAGESIGN_NAME
cp rcpt_blacklist/$RCPTBKLIST_NAME $RELEASE_HOME/$CGIBIN_DIR
cp rcpt_blacklist/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$RCPTBKLIST_NAME
cp redirect_table/$REDIRECTTABLE_NAME $RELEASE_HOME/$CGIBIN_DIR
cp redirect_table/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$REDIRECTTABLE_NAME
cp relay_allow/$RELAYALLOW_NAME $RELEASE_HOME/$CGIBIN_DIR
cp relay_allow/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$RELAYALLOW_NAME
cp relay_domains/$RELAYDOMAINS_NAME $RELEASE_HOME/$CGIBIN_DIR
cp relay_domains/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$RELAYDOMAINS_NAME
cp relay_table/$RELAYTABLE_NAME $RELEASE_HOME/$CGIBIN_DIR
cp relay_table/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$RELAYTABLE_NAME
cp status_rpc/$STATUSRPC_NAME $RELEASE_HOME/$CGIBIN_DIR
cp synchronization_rpc/$SYNCHRONIZATIONRPC_NAME $RELEASE_HOME/$CGIBIN_DIR
cp supervising_list/$SUPERVISELST_NAME $RELEASE_HOME/$CGIBIN_DIR
cp supervising_list/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$SUPERVISELST_NAME
cp supervising_statistic/$SUPERVISESTATIS_NAME $RELEASE_HOME/$CGIBIN_DIR
cp supervising_statistic/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$SUPERVISESTATIS_NAME
cp synchronization_allow/$SYNCHRONIZATIONALLOW_NAME $RELEASE_HOME/$CGIBIN_DIR
cp synchronization_allow/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$SYNCHRONIZATIONALLOW_NAME
cp system_backup/$SYSTEMBACKUP_NAME $RELEASE_HOME/$CGIBIN_DIR
cp system_backup/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$SYSTEMBACKUP_NAME
cp system_password/$SYSTEMPASSWORD_NAME $RELEASE_HOME/$CGIBIN_DIR
cp system_password/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$SYSTEMPASSWORD_NAME
cp system_setup/$SYSTEMSETUP_NAME $RELEASE_HOME/$CGIBIN_DIR
cp system_setup/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$SYSTEMSETUP_NAME
cp system_users/$SYSTEMUSERS_NAME $RELEASE_HOME/$CGIBIN_DIR
cp system_users/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$SYSTEMUSERS_NAME
cp tagging_whitelist/$TAGGINGWHITELIST_NAME $RELEASE_HOME/$CGIBIN_DIR
cp tagging_whitelist/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$TAGGINGWHITELIST_NAME
dos2unix $RELEASE_HOME/$BIN_DIR/*.sh
chmod a+rx $RELEASE_HOME/$BIN_DIR/*.sh
